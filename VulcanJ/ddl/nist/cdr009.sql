SET NAMES ASCII;
CREATE DATABASE 'test.fdb' DEFAULT CHARACTER SET ISO8859_1;

INPUT ddl/input/base-tab.sql;
 COMMIT;
 DELETE FROM STAFF3;
 COMMIT;
 CREATE TABLE PROJ3 (PNUM CHAR(3) NOT NULL, PNAME CHAR(20), PTYPE CHAR(6), BUDGET DECIMAL(9), CITY CHAR(15), UNIQUE (PNUM));
 CREATE TABLE WORKS3 (EMPNUM CHAR(3) NOT NULL, PNUM CHAR(3) NOT NULL, HOURS DECIMAL(5),FOREIGN KEY (EMPNUM) REFERENCES STAFF3(EMPNUM), FOREIGN KEY (PNUM) REFERENCES PROJ3(PNUM));
 INSERT INTO STAFF3 VALUES('E1','Alice',12,'Deale');
 SELECT COUNT(*) FROM STAFF3;
 INSERT INTO STAFF3 VALUES('E1','Tom',12,'Newyork');
 SELECT COUNT(*) FROM STAFF3;
 DELETE  FROM WORKS3;
 DELETE  FROM PROJ3;
 DELETE  FROM STAFF3;
 INSERT INTO STAFF3 SELECT * FROM STAFF;
 INSERT INTO PROJ3 SELECT * FROM PROJ;
 INSERT INTO WORKS3 SELECT * FROM WORKS;
 UPDATE STAFF3 SET EMPNUM = 'E9' WHERE EMPNUM = 'E2';
 SELECT COUNT(*) FROM STAFF3 WHERE EMPNUM = 'E2';
 DELETE  FROM WORKS3;
 DELETE  FROM STAFF3;
 INSERT INTO STAFF3 VALUES('E1','Alice',45,'Deale');
 INSERT INTO STAFF3 VALUES('E2','Tom',45,'Deale'); 
 SELECT COUNT(*) FROM STAFF3;
 UPDATE STAFF3 SET EMPNUM = 'E1' WHERE EMPNUM = 'E2';
 SELECT COUNT(*) FROM STAFF3 WHERE EMPNUM = 'E2';
 DELETE  FROM WORKS3;
 DELETE  FROM PROJ3;
 DELETE  FROM STAFF3;
 INSERT INTO STAFF3 SELECT * FROM STAFF;
 INSERT INTO PROJ3 SELECT * FROM PROJ;
 INSERT INTO WORKS3 SELECT * FROM WORKS;
 UPDATE WORKS3 SET EMPNUM = 'E9' WHERE EMPNUM = 'E2'; 
 SELECT COUNT(*) FROM WORKS3 WHERE EMPNUM = 'E2';
 DELETE  FROM WORKS3;
 DELETE  FROM PROJ3;
 DELETE  FROM STAFF3;
 INSERT INTO STAFF3 SELECT * FROM STAFF;
 INSERT INTO PROJ3 SELECT * FROM PROJ;
 INSERT INTO WORKS3 SELECT * FROM WORKS;
 SELECT COUNT(*) FROM WORKS WHERE EMPNUM = 'E1';
 UPDATE WORKS3 SET EMPNUM = 'E2' WHERE EMPNUM = 'E1';
 SELECT COUNT(*) FROM WORKS3 WHERE EMPNUM = 'E1';

DROP DATABASE;
